<!doctype html> 
<html ng-app = "quizAdminApp">

<head>

	<!-- Angular.js -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular.min.js"></script>

	<!-- Homegrown stylesheets -->
	<link rel="stylesheet" href="styles.css" />

	<!-- Quiz stylesheets -->
	<!--<link rel="stylesheet" href="../quiz/styles.css" />-->

</head>

<body ng-controller="quizAdminController">
	<div class = "container">
		
		<div class = "section">
			<h1 class = "center">What's the slug for this quiz?</h1>
			<div class = "inputBlock center">
				<input type="text" ng-model="slug" class="simple" />
				<span class="btn" ng-class="{disabled: !slug}" ng-click="handleSlug()" >Go</span>
			</div>
		</div>
		
		<div class = "section">
			<h2 class = "center">Looks like you're making a new quiz... yay!</h2>
			<div class = "inputCollection shaded">
				
				<div class="inputBlock">
					<label>Title</label>
					<input type="text" ng-model="data.title" />
				</div>

				<div class="inputBlock">				
					<label>Intro text</label>
					<input type="text" ng-model="data.text" />
				</div>
				
				<div class="inputBlock">				
					<label>Nstein story URL (yes, you gotta make this first!)</label>
					<input type="text" ng-model="data.url" />
				</div>
				
				<div class="inputBlock">				
					<label>Response for bronze-level finish</label>
					<input type="text" ng-model="data.bronzeResponse" />
				</div>
				
				<div class="inputBlock">				
					<label>Response for silver-level finish</label>
					<input type="text" ng-model="data.silverResponse" />
				</div>
				
				<div class="inputBlock">
					<label>Response for gold-level finish</label>
					<input type="text" ng-model="data.goldResponse" />
				</div>
			</div>
		</div>
		
		<div class = "section">
			<h2 class = "center">And let's add some questions.</h2>
		</div>
		
		<ul class = "quiz" ng-show = "data.questions">
			<li ng-repeat="question in data.questions" waypoint data-index={{$index}}>
				
				<h1>{{question.title}}</h1>
				
				<img src="{{question.img}}" ng-show="question.img" />
				<h2 ng-bind-html="renderHTML(question.text)"></h2>
				<div class="embed" ng-bind-html="renderHTML(question.embeddedContent)"></div>
			
				<ul class = "answers"  ng-class="{answered: question.answered}">
					<li ng-repeat="answer in question.answers" ng-class="{image: answer.img != null, correct: question.answered && answer.correct, incorrect: question.answered && !answer.correct, selected: question.answered && answer.picked }" ng-click="evaluateAnswer(answer, question)">
						<h3>{{answer.title}}</h3>
						<div image class = "image" ng-style="{'background-image':'url(' + answer.img + ')'}" ng-show="answer.img">
						<h4 ng-show="answer.text && question.answered">{{ answer.text }}</h4>
					</li>
				</ul>
				
				<h2 class="response" ng-show="question.response" ng-bind-html="renderHTML(question.response)"></h2>
			
			</li>
			
		</ul>
		
		<div class = "insertQuestion">
			<div class = "inputCollection shaded">
				<div class="inputBlock">
					<label>Question title</label>
					<input type="text" ng-model="question.title" />
				</div>

				<div class="inputBlock">				
					<label>Question text</label>
					<input type="text" ng-model="question.text" />
				</div>

				<div class="inputBlock">				
					<label>Image URL (if you want an overall image)</label>
					<input type="url" ng-model="temp.url" />
				</div>

				
				<div ng-repeat = "answer in question.answers">
					<div class="inputBlock">				
						<label>Answer title</label>
						<input type="text" ng-model="answer.title" />
					</div>

					<div class="inputBlock">				
						<label>Answer image (if any)</label>
						<input type="text" ng-model="answer.img" />
					</div>

					<div class="inputBlock">
						<label>Correct or incorrect?</label>
						<input type="radio" ng-model="answer.correct" value = "true"/> Correct
						<input type="radio" ng-model="answer.correct" value = "false"/> Incorrect
					</div>
					
					<div class="inputBlock">				
						<label>Message title to display after answer</label>
						<input type="text" ng-model="answer.messageTitle" />
					</div>
					
					<div class="inputBlock">				
						<label>Message text to display after answer</label>
						<input type="text" ng-model="answer.message" />
					</div>
					
				</div>
				
				<div>
					<div class="inputBlock">				
						<label>Answer title</label>
						<input type="text" ng-model="temp.title" />
					</div>

					<div class="inputBlock">				
						<label>Answer image (if any)</label>
						<input type="text" ng-model="temp.img" />
					</div>

					<div class="inputBlock">
						<label>Correct or incorrect?</label>
						<input type="radio" ng-model="temp.correct" value = "true"/> Correct
						<input type="radio" ng-model="temp.correct" value = "false"/> Incorrect
					</div>
					
					<div class="inputBlock">				
						<label>Message title to display after answer</label>
						<input type="text" ng-model="temp.messageTitle" />
					</div>
					
					<div class="inputBlock">				
						<label>Message text to display after answer</label>
						<input type="text" ng-model="temp.message" />
					</div>
	
					<div class="btn" ng-class="" ng-click="addAnswer(temp, question)" >Add answer</div>
					
				</div>
				
				<div class="btn" ng-class="" ng-click="addQuestion(question)" >Add question</div>
				
			</div>
		</div>
		
		
		
		
		
	</div>
</body>

<script src="app.js"></script>

</html>